---
title: 堆
date: 2023-07-26 16:47:02
categories:
  - LeetCode
tags: []
---

堆，是一个完全二叉树（不是满二叉树），且层与层之间大小有序，子节点均不大于父节点，或子节点均不小于父节点。
堆的应用：
- topK
- 优先队列

由于堆是完全二叉树，所以堆可以用一个层次遍历的列表表示，利用完全二叉树的性质
某节点在列表中下标的为i，则
左子节点下标2i + 1
右子节点下标2i + 2
其父节点下标(i-1) // 2


堆用树实现并不好整

利用列表建堆，复杂度似乎是O(n)

堆的调整应从最后一个非叶子节点开始

### 堆排序
把顶和最后一个元素交换，然后前n-1个元素作为子堆，顶被破坏，顶下沉，依次进行，如此可求topk，但这是蠢法

### 堆topk的正确姿势

维护一个大小为k的堆